/*! 
 Build based on gin-vue-admin 
 Time : 1718987800000 */
import{a as e,o as l,c as a,d as o,w as u,N as d,O as t,h as i,b as r,l as s,E as m}from"./087AC4D233B64EB0index.72fd2312.js";/* empty css                                  */import{E as p}from"./087AC4D233B64EB0switch.17102a26.js";import{E as n}from"./087AC4D233B64EB0checkbox.ca4c4f80.js";/* empty css                              *//* empty css                            *//* empty css                               *//* empty css                                  *//* empty css                               *//* empty css                               */import{a as f,t as c}from"./087AC4D233B64EB0stringFun.647a78e9.js";import{g as B}from"./087AC4D233B64EB0sysDictionary.8a34cf5d.js";import{_ as v}from"./087AC4D233B64EB0warningBar.90f1d9d1.js";import{a as b,E as y}from"./087AC4D233B64EB0index.7b396154.js";import{E,a as V}from"./087AC4D233B64EB0index.3d51996d.js";import"./087AC4D233B64EB0isEqual.add17071.js";import"./087AC4D233B64EB0_Uint8Array.d3e78e14.js";import"./087AC4D233B64EB0hasIn.391c448e.js";import"./087AC4D233B64EB0castArray.673ea73c.js";import"./087AC4D233B64EB0_baseClone.503fbc91.js";import"./087AC4D233B64EB0_initCloneObject.253b0cea.js";import"./087AC4D233B64EB0index.a0571a5c.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0index.ffab591b.js";import"./087AC4D233B64EB0index.ea000fb0.js";import"./087AC4D233B64EB0strings.ee229cfb.js";import"./087AC4D233B64EB0debounce.1e721c0b.js";import"./087AC4D233B64EB0_baseIteratee.e71013e5.js";const g=r("span",{style:{"font-size":"12px"}},"自动填充",-1),D=Object.assign({name:"FieldDialog"},{__name:"fieldDialog",props:{dialogMiddle:{type:Object,default:function(){return{}}},typeOptions:{type:Array,default:function(){return[]}},typeSearchOptions:{type:Array,default:function(){return[]}}},setup(r,{expose:D}){const j=r,A=e({}),C=e([]),_=e({fieldName:[{required:!0,message:"请输入字段英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入字段格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择字段类型",trigger:"blur"}]});(async()=>{A.value=j.dialogMiddle;const e=await B({page:1,pageSize:999999});C.value=e.data})();const T=()=>{A.value.fieldJson=f(A.value.fieldName),A.value.columnName=c(A.value.fieldJson)},h=e=>{const l=A.value.fieldType;return"string"!==l&&"LIKE"===e||"int"!==l&&"time.Time"!==l&&"float64"!==l&&("BETWEEN"===e||"NOT BETWEEN"===e)},U=()=>{A.value.fieldSearchType="",A.value.dictType=""},N=e(null);return D({fieldDialogFrom:N}),(e,f)=>{const c=s,B=m,D=b,j=E,x=V,w=n,O=p,S=y;return l(),a("div",null,[o(v,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),o(S,{ref_key:"fieldDialogFrom",ref:N,model:A.value,"label-width":"120px","label-position":"right",rules:_.value,class:"grid grid-cols-2"},{default:u((()=>[o(D,{label:"字段名称",prop:"fieldName"},{default:u((()=>[o(c,{modelValue:A.value.fieldName,"onUpdate:modelValue":f[0]||(f[0]=e=>A.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),o(B,{style:{width:"18%","margin-left":"2%"},onClick:T},{default:u((()=>[g])),_:1})])),_:1}),o(D,{label:"字段中文名",prop:"fieldDesc"},{default:u((()=>[o(c,{modelValue:A.value.fieldDesc,"onUpdate:modelValue":f[1]||(f[1]=e=>A.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(D,{label:"字段JSON",prop:"fieldJson"},{default:u((()=>[o(c,{modelValue:A.value.fieldJson,"onUpdate:modelValue":f[2]||(f[2]=e=>A.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(D,{label:"数据库字段名",prop:"columnName"},{default:u((()=>[o(c,{modelValue:A.value.columnName,"onUpdate:modelValue":f[3]||(f[3]=e=>A.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(D,{label:"数据库字段描述",prop:"comment"},{default:u((()=>[o(c,{modelValue:A.value.comment,"onUpdate:modelValue":f[4]||(f[4]=e=>A.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(D,{label:"字段类型",prop:"fieldType"},{default:u((()=>[o(x,{modelValue:A.value.fieldType,"onUpdate:modelValue":f[5]||(f[5]=e=>A.value.fieldType=e),style:{width:"100%"},placeholder:"请选择字段类型",clearable:"",onChange:U},{default:u((()=>[(l(!0),a(d,null,t(r.typeOptions,(e=>(l(),i(j,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(D,{label:"enum"===A.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:u((()=>[o(c,{modelValue:A.value.dataTypeLong,"onUpdate:modelValue":f[6]||(f[6]=e=>A.value.dataTypeLong=e),placeholder:"enum"===A.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),o(D,{label:"字段查询条件",prop:"fieldSearchType"},{default:u((()=>[o(x,{modelValue:A.value.fieldSearchType,"onUpdate:modelValue":f[7]||(f[7]=e=>A.value.fieldSearchType=e),disabled:"json"===A.value.fieldType,style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:""},{default:u((()=>[(l(!0),a(d,null,t(r.typeSearchOptions,(e=>(l(),i(j,{key:e.value,label:e.label,value:e.value,disabled:h(e.value)},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),o(D,{label:"关联字典",prop:"dictType"},{default:u((()=>[o(x,{modelValue:A.value.dictType,"onUpdate:modelValue":f[8]||(f[8]=e=>A.value.dictType=e),style:{width:"100%"},disabled:"string"!==A.value.fieldType,placeholder:"请选择字典",clearable:""},{default:u((()=>[(l(!0),a(d,null,t(C.value,(e=>(l(),i(j,{key:e.type,label:"".concat(e.type,"(").concat(e.name,")"),value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),o(D,{label:"主键"},{default:u((()=>[o(w,{modelValue:A.value.primaryKey,"onUpdate:modelValue":f[9]||(f[9]=e=>A.value.primaryKey=e)},null,8,["modelValue"])])),_:1}),o(D,{label:"是否排序"},{default:u((()=>[o(O,{modelValue:A.value.sort,"onUpdate:modelValue":f[10]||(f[10]=e=>A.value.sort=e)},null,8,["modelValue"])])),_:1}),o(D,{label:"是否必填"},{default:u((()=>[o(O,{modelValue:A.value.require,"onUpdate:modelValue":f[11]||(f[11]=e=>A.value.require=e)},null,8,["modelValue"])])),_:1}),o(D,{label:"是否可清空"},{default:u((()=>[o(O,{modelValue:A.value.clearable,"onUpdate:modelValue":f[12]||(f[12]=e=>A.value.clearable=e)},null,8,["modelValue"])])),_:1}),o(D,{label:"校验失败文案"},{default:u((()=>[o(c,{modelValue:A.value.errorText,"onUpdate:modelValue":f[13]||(f[13]=e=>A.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])}}});export{D as default};
