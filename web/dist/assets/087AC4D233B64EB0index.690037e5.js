/*! 
 Build based on gin-vue-admin 
 Time : 1718987800000 */
import{a as e,av as l,u as a,r as t,W as u,ai as o,o as d,c as i,d as s,b as n,w as r,g as m,N as p,O as c,h as v,t as f,e as b,ap as y,k as g,bj as B,J as V,E as N,l as _}from"./087AC4D233B64EB0index.72fd2312.js";/* empty css                               *//* empty css                                */import{E as C,a as h}from"./087AC4D233B64EB0table-column.a0d188fb.js";import{E}from"./087AC4D233B64EB0checkbox.ca4c4f80.js";/* empty css                                *//* empty css                               *//* empty css                                  *//* empty css                            *//* empty css                              */import{E as D,a as w}from"./087AC4D233B64EB0collapse-item.016b0613.js";/* empty css                                  *//* empty css                               *//* empty css                               */import k from"./087AC4D233B64EB0fieldDialog.a9ae1035.js";import T from"./087AC4D233B64EB0previewCodeDialg.2664eb48.js";import{a as A,b as x,t as j,c as U}from"./087AC4D233B64EB0stringFun.647a78e9.js";import{p as S,c as q,g as M,a as L,b as O,d as J,e as F}from"./087AC4D233B64EB0autoCode.965944c1.js";import{u as I}from"./087AC4D233B64EB0dictionary.cf01d2cf.js";import{_ as K}from"./087AC4D233B64EB0warningBar.90f1d9d1.js";import{E as R}from"./087AC4D233B64EB0index.a0571a5c.js";import{E as W,a as $}from"./087AC4D233B64EB0index.3d51996d.js";import{a as G,E as X}from"./087AC4D233B64EB0index.7b396154.js";import{E as z}from"./087AC4D233B64EB0index.1c56beac.js";import"./087AC4D233B64EB0index.ffab591b.js";import"./087AC4D233B64EB0_baseIteratee.e71013e5.js";import"./087AC4D233B64EB0_Uint8Array.d3e78e14.js";import"./087AC4D233B64EB0isEqual.add17071.js";import"./087AC4D233B64EB0hasIn.391c448e.js";import"./087AC4D233B64EB0debounce.1e721c0b.js";import"./087AC4D233B64EB0_initCloneObject.253b0cea.js";import"./087AC4D233B64EB0castArray.673ea73c.js";import"./087AC4D233B64EB0index.dd70ec89.js";import"./087AC4D233B64EB0switch.17102a26.js";import"./087AC4D233B64EB0sysDictionary.8a34cf5d.js";import"./087AC4D233B64EB0_baseClone.503fbc91.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0index.ea000fb0.js";import"./087AC4D233B64EB0strings.ee229cfb.js";import"./087AC4D233B64EB0tab-pane.ab334272.js";import"./087AC4D233B64EB0use-dialog.3fba8604.js";const P={class:"gva-search-box"},Q={class:"text-xl pl-4 flex items-center"},H={style:{float:"right",color:"#8492a6","font-size":"13px"}},Y={class:"gva-search-box"},Z={style:{float:"right",color:"#8492a6","font-size":"13px"}},ee={class:"gva-table-box"},le={class:"gva-btn-list"},ae={class:"gva-btn-list justify-end mt-4"},te={class:"flex justify-between items-center"},ue=n("span",{class:"text-lg"},"组件内容",-1),oe={class:"flex justify-between items-center"},de=n("span",{class:"text-lg"},"操作栏",-1),ie=Object.assign({name:"AutoCode"},{__name:"index",setup(ie){const se=["id","created_at","updated_at","deleted_at"],ne=["created_by","updated_by","deleted_by"],re=e([{label:"字符串",value:"string"},{label:"富文本",value:"richtext"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"},{label:"单图片（字符串）",value:"picture"},{label:"多图片（json字符串）",value:"pictures"},{label:"视频（字符串）",value:"video"},{label:"文件（json字符串）",value:"file"},{label:"JSON",value:"json"}]),me=e([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]),pe={fieldName:"",fieldDesc:"",fieldType:"",dataType:"",fieldJson:"",columnName:"",dataTypeLong:"",comment:"",require:!1,sort:!1,errorText:"",primaryKey:!1,clearable:!0,fieldSearchType:"",dictType:""},ce=l(),ve=a(),fe=t([]),be=e({}),ye=e({businessDB:"",dbName:"",tableName:""}),ge=e([]),Be=e(""),Ve=e({}),Ne=e({structName:"",tableName:"",packageName:"",package:"",abbreviation:"",description:"",businessDB:"",autoCreateApiToSql:!0,autoCreateMenuToSql:!0,autoMoveFile:!0,gvaModel:!0,autoCreateResource:!1,fields:[]}),_e=e({structName:[{required:!0,message:"请输入结构体名称",trigger:"blur"}],abbreviation:[{required:!0,message:"请输入结构体简称",trigger:"blur"}],description:[{required:!0,message:"请输入结构体描述",trigger:"blur"}],packageName:[{required:!0,message:"文件名称：sysXxxxXxxx",trigger:"blur"}],package:[{required:!0,message:"请选择package",trigger:"blur"}]}),Ce=e({}),he=e({}),Ee=e(!1),De=e(!1),we=e=>{e&&Ne.value.fields.length&&y.confirm("如果您开启GVA默认结构，会自动添加ID,CreatedAt,UpdatedAt,DeletedAt字段，此行为将自动清除您目前在下方创建的重名字段，是否继续？","注意",{confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then((()=>{Ne.value.fields=Ne.value.fields.filter((e=>!se.some((l=>l===e.columnName))))})).catch((()=>{Ne.value.gvaModel=!1}))},ke=e(null),Te=()=>{ke.value.selectText()},Ae=()=>{ke.value.copy()},xe=e=>{Ee.value=!0,e?(Be.value="edit",he.value=JSON.parse(JSON.stringify(e)),Ce.value=e):(Be.value="add",Ce.value=JSON.parse(JSON.stringify(pe)))},je=e(null),Ue=()=>{je.value.fieldDialogFrom.validate((e=>{if(!e)return!1;Ce.value.fieldName=x(Ce.value.fieldName),"add"===Be.value&&Ne.value.fields.push(Ce.value),Ee.value=!1}))},Se=()=>{"edit"===Be.value&&(Ce.value=he.value),Ee.value=!1},qe=e(null),Me=async e=>Ne.value.fields.length<=0?(g({type:"error",message:"请填写至少一个field"}),!1):!Ne.value.gvaModel&&Ne.value.fields.every((e=>!e.primaryKey))?(g({type:"error",message:"您至少需要创建一个主键才能保证自动化代码的可行性"}),!1):Ne.value.fields.some((e=>e.fieldName===Ne.value.structName))?(g({type:"error",message:"存在与结构体同名的字段"}),!1):Ne.value.package===Ne.value.abbreviation?(g({type:"error",message:"package和结构体简称不可同名"}),!1):void qe.value.validate((async l=>{var a;if(!l)return!1;for(const e in Ne.value)"string"==typeof Ne.value[e]&&(Ne.value[e]=Ne.value[e].trim());if(Ne.value.structName=x(Ne.value.structName),Ne.value.tableName=Ne.value.tableName.replace(" ",""),Ne.value.tableName||(Ne.value.tableName=j(A(Ne.value.structName))),Ne.value.structName===Ne.value.abbreviation)return g({type:"error",message:"structName和struct简称不能相同"}),!1;if(Ne.value.humpPackageName=j(Ne.value.packageName),e){const e=await S(Ne.value);be.value=e.data.autoCode,De.value=!0}else{const e=await q(Ne.value);if("false"===(null==(a=e.headers)?void 0:a.success))return;if(Ne.value.autoMoveFile)return void g({type:"success",message:"自动化代码创建成功，自动移动成功"});g({type:"success",message:"自动化代码创建成功，正在下载"});const l=new Blob([e]),t="ginvueadmin.zip";if("download"in document.createElement("a")){const e=window.URL.createObjectURL(l),a=document.createElement("a");a.style.display="none",a.href=e,a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(e)}else window.navigator.msSaveBlob(l,t)}})),Le=e([]),Oe=e([]),Je=async()=>{ye.value.dbName="",ye.value.tableName="";const e=await M({businessDB:ye.value.businessDB});0===e.code&&(Oe.value=e.data.dbs,Le.value=e.data.dbList)},Fe=async()=>{const e=await L({businessDB:ye.value.businessDB,dbName:ye.value.dbName});0===e.code&&(ge.value=e.data.tables),ye.value.tableName=""},Ie=async()=>{const e=await O(ye.value);if(0===e.code){let l="";if(""!==ye.value.businessDB){const e=Le.value.find((e=>e.aliasName===ye.value.businessDB)),a=B(e);l=a.dbtype}const a=U(ye.value.tableName);Ne.value.structName=x(a),Ne.value.tableName=ye.value.tableName,Ne.value.packageName=a,Ne.value.abbreviation=a,Ne.value.description=a+"表",Ne.value.autoCreateApiToSql=!0,Ne.value.autoMoveFile=!0,Ne.value.fields=[],e.data.columns&&e.data.columns.forEach((e=>{if(Ke(e)){const a=U(e.columnName);Ne.value.fields.push({fieldName:x(a),fieldDesc:e.columnComment||a+"字段",fieldType:Ve.value[e.dataType],dataType:e.dataType,fieldJson:a,primaryKey:e.primaryKey,dataTypeLong:e.dataTypeLong&&e.dataTypeLong.split(",")[0],columnName:"oracle"===l?e.columnName.toUpperCase():e.columnName,comment:e.columnComment,require:!1,errorText:"",clearable:!0,fieldSearchType:"",dictType:""})}}))}},Ke=e=>{let l=!0;return Ne.value.gvaModel&&se.some((l=>l===e.columnName))&&(l=!1),Ne.value.autoCreateResource&&ne.some((l=>l===e.columnName))&&(l=!1),l},Re=async()=>{["string","int","bool","float64","time.Time"].forEach((async e=>{const l=await(async e=>{const l=I();return await l.getDictionary(e),l.dictionaryMap[e]})(e);l&&l.forEach((l=>{Ve.value[l.label]=e}))}))},We=e([]),$e=async()=>{const e=await J();0===e.code&&(We.value=e.data.pkgs)},Ge=()=>{ve.push({name:"autoPkg"})},Xe=()=>{Je(),Re(),$e();const e=ce.params.id;e&&(async e=>{const l=await F({id:Number(e)});0===l.code&&(Ne.value=JSON.parse(l.data.meta))})(e)};return Xe(),u((()=>ce.params.id),(()=>{"autoCodeEdit"===ce.name&&Xe()})),(e,l)=>{const a=o("pointer"),t=V,u=o("QuestionFilled"),g=R,B=W,x=$,j=G,U=N,S=X,q=D,M=w,L=_,O=o("refresh"),J=o("document-add"),F=E,I=C,ie=h,se=z;return d(),i("div",null,[s(K,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请看视频https://www.bilibili.com/video/BV1kv4y1g7nT?p=3"}),n("div",P,[s(M,{modelValue:fe,"onUpdate:modelValue":l[3]||(l[3]=e=>fe=e),class:"mb-3"},{default:r((()=>[s(q,{name:"1"},{title:r((()=>[n("div",Q,[m(" 点这里从现有数据库创建代码 "),s(t,null,{default:r((()=>[s(a)])),_:1})])])),default:r((()=>[s(S,{ref:"getTableForm",style:{"margin-top":"24px"},inline:!0,model:ye.value,"label-width":"120px"},{default:r((()=>[s(j,{label:"业务库",prop:"selectDBtype"},{label:r((()=>[s(g,{content:"注：需要提前到db-list自行配置多数据库，如未配置需配置后重启服务方可使用。（此处可选择对应库表，可理解为从哪个库选择表）",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 业务库 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(x,{modelValue:ye.value.businessDB,"onUpdate:modelValue":l[0]||(l[0]=e=>ye.value.businessDB=e),clearable:"",placeholder:"选择业务库",onChange:Je},{default:r((()=>[(d(!0),i(p,null,c(Le.value,(e=>(d(),v(B,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:r((()=>[n("div",null,[n("span",null,f(e.aliasName),1),n("span",H,f(e.dbName),1)])])),_:2},1032,["value","label","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(j,{label:"数据库名",prop:"structName"},{default:r((()=>[s(x,{modelValue:ye.value.dbName,"onUpdate:modelValue":l[1]||(l[1]=e=>ye.value.dbName=e),clearable:"",filterable:"",placeholder:"请选择数据库",onChange:Fe},{default:r((()=>[(d(!0),i(p,null,c(Oe.value,(e=>(d(),v(B,{key:e.database,label:e.database,value:e.database},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(j,{label:"表名",prop:"structName"},{default:r((()=>[s(x,{modelValue:ye.value.tableName,"onUpdate:modelValue":l[2]||(l[2]=e=>ye.value.tableName=e),disabled:!ye.value.dbName,filterable:"",placeholder:"请选择表"},{default:r((()=>[(d(!0),i(p,null,c(ge.value,(e=>(d(),v(B,{key:e.tableName,label:e.tableName,value:e.tableName},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),s(j,null,{default:r((()=>[s(U,{type:"primary",onClick:Ie},{default:r((()=>[m("使用此表创建")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1},8,["modelValue"])]),n("div",Y,[s(S,{ref_key:"autoCodeForm",ref:qe,rules:_e.value,model:Ne.value,"label-width":"120px",inline:!0},{default:r((()=>[s(j,{label:"Struct名称",prop:"structName"},{default:r((()=>[s(L,{modelValue:Ne.value.structName,"onUpdate:modelValue":l[4]||(l[4]=e=>Ne.value.structName=e),placeholder:"首字母自动转换大写"},null,8,["modelValue"])])),_:1}),s(j,{label:"TableName",prop:"tableName"},{default:r((()=>[s(L,{modelValue:Ne.value.tableName,"onUpdate:modelValue":l[5]||(l[5]=e=>Ne.value.tableName=e),placeholder:"指定表名（非必填）"},null,8,["modelValue"])])),_:1}),s(j,{prop:"abbreviation"},{label:r((()=>[s(g,{content:"简称会作为入参对象名和路由group",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" Struct简称 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(L,{modelValue:Ne.value.abbreviation,"onUpdate:modelValue":l[6]||(l[6]=e=>Ne.value.abbreviation=e),placeholder:"请输入Struct简称"},null,8,["modelValue"])])),_:1}),s(j,{label:"Struct中文名称",prop:"description"},{default:r((()=>[s(L,{modelValue:Ne.value.description,"onUpdate:modelValue":l[7]||(l[7]=e=>Ne.value.description=e),placeholder:"中文描述作为自动api描述"},null,8,["modelValue"])])),_:1}),s(j,{prop:"packageName"},{label:r((()=>[s(g,{content:"生成文件的默认名称(建议为驼峰格式,首字母小写,如sysXxxXxxx)",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 文件名称 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(L,{modelValue:Ne.value.packageName,"onUpdate:modelValue":l[8]||(l[8]=e=>Ne.value.packageName=e),placeholder:"请输入文件名称",onBlur:l[9]||(l[9]=e=>{var l,a;(l=Ne.value)[a="packageName"]=A(l[a])})},null,8,["modelValue"])])),_:1}),s(j,{label:"Package（包）",prop:"package"},{default:r((()=>[s(x,{modelValue:Ne.value.package,"onUpdate:modelValue":l[10]||(l[10]=e=>Ne.value.package=e)},{default:r((()=>[(d(!0),i(p,null,c(We.value,(e=>(d(),v(B,{key:e.ID,value:e.packageName,label:e.packageName},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),s(t,{class:"cursor-pointer ml-2 text-gray-600",onClick:$e},{default:r((()=>[s(O)])),_:1}),s(t,{class:"cursor-pointer ml-2 text-gray-600",onClick:Ge},{default:r((()=>[s(J)])),_:1})])),_:1}),s(j,{label:"业务库",prop:"businessDB"},{label:r((()=>[s(g,{content:"注：需要提前到db-list自行配置多数据库，此项为空则会使用gva本库创建自动化代码(global.GVA_DB),填写后则会创建指定库的代码(global.MustGetGlobalDBByDBName(dbname))",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 业务库 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(x,{modelValue:Ne.value.businessDB,"onUpdate:modelValue":l[11]||(l[11]=e=>Ne.value.businessDB=e),placeholder:"选择业务库"},{default:r((()=>[(d(!0),i(p,null,c(Le.value,(e=>(d(),v(B,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:r((()=>[n("div",null,[n("span",null,f(e.aliasName),1),n("span",Z,f(e.dbName),1)])])),_:2},1032,["value","label","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),n("div",null,[s(j,null,{label:r((()=>[s(g,{content:"注：会自动在结构体global.Model其中包含主键和软删除相关操作配置",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 使用GVA结构 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(F,{modelValue:Ne.value.gvaModel,"onUpdate:modelValue":l[12]||(l[12]=e=>Ne.value.gvaModel=e),onChange:we},null,8,["modelValue"])])),_:1}),s(j,null,{label:r((()=>[s(g,{content:"注：会自动在结构体添加 created_by updated_by deleted_by，方便用户进行资源权限控制",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 创建资源标识 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(F,{modelValue:Ne.value.autoCreateResource,"onUpdate:modelValue":l[13]||(l[13]=e=>Ne.value.autoCreateResource=e)},null,8,["modelValue"])])),_:1}),s(j,null,{label:r((()=>[s(g,{content:"注：把自动生成的API注册进数据库",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 自动创建API "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(F,{modelValue:Ne.value.autoCreateApiToSql,"onUpdate:modelValue":l[14]||(l[14]=e=>Ne.value.autoCreateApiToSql=e)},null,8,["modelValue"])])),_:1}),s(j,null,{label:r((()=>[s(g,{content:"注：把自动生成的菜单注册进数据库",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 自动创建菜单 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(F,{modelValue:Ne.value.autoCreateMenuToSql,"onUpdate:modelValue":l[15]||(l[15]=e=>Ne.value.autoCreateMenuToSql=e)},null,8,["modelValue"])])),_:1}),s(j,null,{label:r((()=>[s(g,{content:"注：自动迁移生成的文件到yaml配置的对应位置",placement:"bottom",effect:"light"},{default:r((()=>[n("div",null,[m(" 自动移动文件 "),s(t,null,{default:r((()=>[s(u)])),_:1})])])),_:1})])),default:r((()=>[s(F,{modelValue:Ne.value.autoMoveFile,"onUpdate:modelValue":l[16]||(l[16]=e=>Ne.value.autoMoveFile=e)},null,8,["modelValue"])])),_:1})])])),_:1},8,["rules","model"])]),n("div",ee,[n("div",le,[s(U,{type:"primary",onClick:l[17]||(l[17]=e=>xe())},{default:r((()=>[m("新增字段")])),_:1})]),s(ie,{data:Ne.value.fields},{default:r((()=>[s(I,{align:"left",type:"index",label:"序列",width:"60"}),s(I,{align:"left",type:"index",label:"主键",width:"60"},{default:r((({row:e})=>[s(F,{modelValue:e.primaryKey,"onUpdate:modelValue":l=>e.primaryKey=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"fieldName",label:"字段名称",width:"160"},{default:r((({row:e})=>[s(L,{modelValue:e.fieldName,"onUpdate:modelValue":l=>e.fieldName=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"fieldDesc",label:"中文名",width:"160"},{default:r((({row:e})=>[s(L,{modelValue:e.fieldDesc,"onUpdate:modelValue":l=>e.fieldDesc=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"require",label:"必填"},{default:r((({row:e})=>[s(F,{modelValue:e.require,"onUpdate:modelValue":l=>e.require=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"sort",label:"排序"},{default:r((({row:e})=>[s(F,{modelValue:e.sort,"onUpdate:modelValue":l=>e.sort=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"fieldJson",width:"160px",label:"字段Json"},{default:r((({row:e})=>[s(L,{modelValue:e.fieldJson,"onUpdate:modelValue":l=>e.fieldJson=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"fieldType",label:"字段类型",width:"160"},{default:r((({row:e})=>[s(x,{modelValue:e.fieldType,"onUpdate:modelValue":l=>e.fieldType=l,style:{width:"100%"},placeholder:"请选择字段类型",clearable:""},{default:r((()=>[(d(!0),i(p,null,c(re.value,(e=>(d(),v(B,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"dataTypeLong",label:"数据库字段长度",width:"160"},{default:r((({row:e})=>[s(L,{modelValue:e.dataTypeLong,"onUpdate:modelValue":l=>e.dataTypeLong=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"columnName",label:"数据库字段",width:"160"},{default:r((({row:e})=>[s(L,{modelValue:e.columnName,"onUpdate:modelValue":l=>e.columnName=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"comment",label:"数据库字段描述",width:"160"},{default:r((({row:e})=>[s(L,{modelValue:e.comment,"onUpdate:modelValue":l=>e.comment=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),s(I,{align:"left",prop:"fieldSearchType",label:"搜索条件",width:"130"},{default:r((({row:e})=>[s(x,{modelValue:e.fieldSearchType,"onUpdate:modelValue":l=>e.fieldSearchType=l,style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:"",disabled:"json"!==e.fieldType},{default:r((()=>[(d(!0),i(p,null,c(me.value,(l=>(d(),v(B,{key:l.value,label:l.label,value:l.value,disabled:"string"!==e.fieldType&&"LIKE"===l.value||"int"!==e.fieldType&&"time.Time"!==e.fieldType&&"float64"!==e.fieldType&&("BETWEEN"===l.value||"NOT BETWEEN"===l.value)},null,8,["label","value","disabled"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:1}),s(I,{align:"left",label:"操作",width:"300",fixed:"right"},{default:r((e=>[s(U,{type:"primary",link:"",icon:"edit",onClick:l=>xe(e.row)},{default:r((()=>[m("高级编辑")])),_:2},1032,["onClick"]),s(U,{type:"primary",link:"",disabled:0===e.$index,onClick:l=>(e=>{if(0===e)return;const l=Ne.value.fields[e-1];Ne.value.fields.splice(e-1,1),Ne.value.fields.splice(e,0,l)})(e.$index)},{default:r((()=>[m("上移")])),_:2},1032,["disabled","onClick"]),s(U,{type:"primary",link:"",disabled:e.$index+1===Ne.value.fields.length,onClick:l=>(e=>{if(e===Ne.value.fields.length-1)return;const l=Ne.value.fields[e+1];Ne.value.fields.splice(e+1,1),Ne.value.fields.splice(e,0,l)})(e.$index)},{default:r((()=>[m("下移")])),_:2},1032,["disabled","onClick"]),s(U,{type:"primary",link:"",icon:"delete",onClick:l=>{return a=e.$index,void y.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{Ne.value.fields.splice(a,1)}));var a}},{default:r((()=>[m("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),n("div",ae,[s(U,{type:"primary",onClick:l[18]||(l[18]=e=>Me(!0))},{default:r((()=>[m("预览代码")])),_:1}),s(U,{type:"primary",onClick:l[19]||(l[19]=e=>Me(!1))},{default:r((()=>[m("生成代码")])),_:1})])]),s(se,{modelValue:Ee.value,"onUpdate:modelValue":l[20]||(l[20]=e=>Ee.value=e),size:"70%","show-close":!1},{title:r((()=>[n("div",te,[ue,n("div",null,[s(U,{onClick:Se},{default:r((()=>[m("取 消")])),_:1}),s(U,{type:"primary",onClick:Ue},{default:r((()=>[m("确 定")])),_:1})])])])),default:r((()=>[Ee.value?(d(),v(k,{key:0,ref_key:"fieldDialogNode",ref:je,"dialog-middle":Ce.value,"type-options":re.value,"type-search-options":me.value},null,8,["dialog-middle","type-options","type-search-options"])):b("",!0)])),_:1},8,["modelValue"]),s(se,{modelValue:De.value,"onUpdate:modelValue":l[21]||(l[21]=e=>De.value=e),size:"60%","show-close":!1},{title:r((()=>[n("div",oe,[de,n("div",null,[s(U,{type:"primary",onClick:Te},{default:r((()=>[m("全选")])),_:1}),s(U,{type:"primary",onClick:Ae},{default:r((()=>[m("复制")])),_:1})])])])),default:r((()=>[De.value?(d(),v(T,{key:0,ref_key:"previewNode",ref:ke,"preview-code":be.value},null,8,["preview-code"])):b("",!0)])),_:1},8,["modelValue"])])}}});export{ie as default};
