/*! 
 Build based on gin-vue-admin 
 Time : 1718987800000 */
import{a as e,ai as a,o as t,c as l,d as s,b as o,w as i,g as r,N as u,O as n,n as d,t as c,aj as m,G as p,d0 as B,ap as D,k as v,E as y,J as C,l as E}from"./087AC4D233B64EB0index.72fd2312.js";import{E as j}from"./087AC4D233B64EB0dialog.d2da24e2.js";/* empty css                                *//* empty css                                  */import{E as f}from"./087AC4D233B64EB0switch.17102a26.js";/* empty css                              *//* empty css                                  *//* empty css                               */import{g as A,f as b,d as g,c as x,u as h}from"./087AC4D233B64EB0sysDictionary.8a34cf5d.js";import{_ as w}from"./087AC4D233B64EB0warningBar.90f1d9d1.js";import _ from"./087AC4D233B64EB0sysDictionaryDetail.22eefbca.js";import{E as V}from"./087AC4D233B64EB0index.ffab591b.js";import{a as k,E as I}from"./087AC4D233B64EB0index.7b396154.js";import"./087AC4D233B64EB0use-dialog.3fba8604.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0input-number.5321471d.js";/* empty css                                   *//* empty css                            *//* empty css                               *//* empty css                               */import"./087AC4D233B64EB0table-column.a0d188fb.js";import"./087AC4D233B64EB0index.a0571a5c.js";import"./087AC4D233B64EB0checkbox.ca4c4f80.js";import"./087AC4D233B64EB0isEqual.add17071.js";import"./087AC4D233B64EB0_Uint8Array.d3e78e14.js";import"./087AC4D233B64EB0hasIn.391c448e.js";import"./087AC4D233B64EB0_baseIteratee.e71013e5.js";import"./087AC4D233B64EB0debounce.1e721c0b.js";import"./087AC4D233B64EB0_initCloneObject.253b0cea.js";/* empty css                                */import"./087AC4D233B64EB0format.44101a7e.js";import"./087AC4D233B64EB0date.225eaf4f.js";import"./087AC4D233B64EB0dictionary.cf01d2cf.js";import"./087AC4D233B64EB0index.111d928a.js";import"./087AC4D233B64EB0index.3d51996d.js";import"./087AC4D233B64EB0index.ea000fb0.js";import"./087AC4D233B64EB0strings.ee229cfb.js";import"./087AC4D233B64EB0castArray.673ea73c.js";import"./087AC4D233B64EB0_baseClone.503fbc91.js";const U={class:"dict-box flex gap-4"},q={class:"w-64 bg-white p-4"},O={class:"flex justify-between items-center"},T=o("span",{class:"text font-bold"},"字典列表",-1),S=["onClick"],X={class:"max-w-[160px] truncate"},Y={class:"flex-1 bg-white"},z={class:"dialog-footer"},F=Object.assign({name:"SysDictionary"},{__name:"sysDictionary",setup(F){const G=e(1),H=e({name:null,type:null,status:!0,desc:null}),J=e({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),N=e([]),W=async()=>{const e=await A();0===e.code&&(N.value=e.data)};W();const Z=e(!1),$=e(""),K=()=>{Z.value=!1,H.value={name:null,type:null,status:!0,desc:null}},L=e(null),M=async()=>{L.value.validate((async e=>{if(!e)return;let a;switch($.value){case"create":default:a=await x(H.value);break;case"update":a=await h(H.value)}0===a.code&&(v.success("操作成功"),K(),W())}))},P=()=>{$.value="create",Z.value=!0};return(e,A)=>{const x=y,h=C,F=a("Delete"),Q=V,R=E,ee=k,ae=f,te=I,le=j;return t(),l("div",null,[s(w,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),o("div",U,[o("div",q,[o("div",O,[T,s(x,{type:"primary",onClick:P},{default:i((()=>[r(" 新增 ")])),_:1})]),s(Q,{class:"mt-4",style:{height:"calc(100vh - 300px)"}},{default:i((()=>[(t(!0),l(u,null,n(N.value,(e=>(t(),l("div",{key:e.ID,class:d(["rounded flex justify-between items-center px-2 py-4 cursor-pointer mt-2 hover:bg-blue-50 hover:text-gray-800 group bg-gray-50",G.value===e.ID&&"active"]),onClick:a=>{return t=e,void(G.value=t.ID);var t}},[o("span",X,c(e.name),1),o("div",null,[s(h,{class:d(["group-hover:text-blue-500",G.value===e.ID?"text-white-800":"text-blue-500"]),onClick:m((a=>(async e=>{const a=await b({ID:e.ID,status:e.status});$.value="update",0===a.code&&(H.value=a.data.resysDictionary,Z.value=!0)})(e)),["stop"])},{default:i((()=>[s(p(B))])),_:2},1032,["class","onClick"]),s(h,{class:d(["ml-2 group-hover:text-red-500",G.value===e.ID?"text-white-800":"text-red-500"]),onClick:a=>(async e=>{D.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await g({ID:e.ID})).code&&(v({type:"success",message:"删除成功"}),W())}))})(e)},{default:i((()=>[s(F)])),_:2},1032,["class","onClick"])])],10,S)))),128))])),_:1})]),o("div",Y,[s(_,{"sys-dictionary-i-d":G.value},null,8,["sys-dictionary-i-d"])])]),s(le,{modelValue:Z.value,"onUpdate:modelValue":A[4]||(A[4]=e=>Z.value=e),"before-close":K,title:"create"===$.value?"添加字典":"修改字典"},{footer:i((()=>[o("div",z,[s(x,{onClick:K},{default:i((()=>[r("取 消")])),_:1}),s(x,{type:"primary",onClick:M},{default:i((()=>[r("确 定")])),_:1})])])),default:i((()=>[s(te,{ref_key:"dialogForm",ref:L,model:H.value,rules:J.value,"label-width":"110px"},{default:i((()=>[s(ee,{label:"字典名（中）",prop:"name"},{default:i((()=>[s(R,{modelValue:H.value.name,"onUpdate:modelValue":A[0]||(A[0]=e=>H.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ee,{label:"字典名（英）",prop:"type"},{default:i((()=>[s(R,{modelValue:H.value.type,"onUpdate:modelValue":A[1]||(A[1]=e=>H.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ee,{label:"状态",prop:"status",required:""},{default:i((()=>[s(ae,{modelValue:H.value.status,"onUpdate:modelValue":A[2]||(A[2]=e=>H.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),s(ee,{label:"描述",prop:"desc"},{default:i((()=>[s(R,{modelValue:H.value.desc,"onUpdate:modelValue":A[3]||(A[3]=e=>H.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{F as default};
