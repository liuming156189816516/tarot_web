/*! 
 Build based on gin-vue-admin 
 Time : 1718987800000 */
import{s as e,a,ai as t,o as l,c as o,b as s,d as r,w as i,g as n,t as p,G as u,h as d,ap as c,k as m,l as B,E as v,J as f}from"./087AC4D233B64EB0index.72fd2312.js";/* empty css                                   *//* empty css                              *//* empty css                            *//* empty css                               *//* empty css                                  *//* empty css                               */import{E as C,a as g}from"./087AC4D233B64EB0table-column.a0d188fb.js";import"./087AC4D233B64EB0checkbox.ca4c4f80.js";/* empty css                                */import{E}from"./087AC4D233B64EB0popover.97773cb0.js";/* empty css                                  *//* empty css                               */import{f as h}from"./087AC4D233B64EB0format.44101a7e.js";import{a as y,E as D}from"./087AC4D233B64EB0index.7b396154.js";import{E as j}from"./087AC4D233B64EB0index.ea000fb0.js";import{E as A}from"./087AC4D233B64EB0index.111d928a.js";import"./087AC4D233B64EB0index.ffab591b.js";import"./087AC4D233B64EB0index.a0571a5c.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0_baseIteratee.e71013e5.js";import"./087AC4D233B64EB0_Uint8Array.d3e78e14.js";import"./087AC4D233B64EB0isEqual.add17071.js";import"./087AC4D233B64EB0hasIn.391c448e.js";import"./087AC4D233B64EB0debounce.1e721c0b.js";import"./087AC4D233B64EB0_initCloneObject.253b0cea.js";import"./087AC4D233B64EB0dropdown.745c751b.js";import"./087AC4D233B64EB0date.225eaf4f.js";import"./087AC4D233B64EB0dictionary.cf01d2cf.js";import"./087AC4D233B64EB0sysDictionary.8a34cf5d.js";import"./087AC4D233B64EB0castArray.673ea73c.js";import"./087AC4D233B64EB0_baseClone.503fbc91.js";import"./087AC4D233B64EB0index.3d51996d.js";import"./087AC4D233B64EB0strings.ee229cfb.js";const b={class:"gva-search-box"},w={class:"gva-table-box"},_={class:"gva-btn-list"},x={class:"popover-box"},k={key:1},O={class:"popover-box"},S={key:1},V={class:"gva-pagination"},z=Object.assign({name:"SysOperationRecord"},{__name:"sysOperationRecord",setup(z){const I=a(1),R=a(0),T=a(10),U=a([]),N=a({}),J=()=>{N.value={}},q=()=>{I.value=1,T.value=10,""===N.value.status&&(N.value.status=null),P()},G=e=>{T.value=e,P()},L=e=>{I.value=e,P()},P=async()=>{const a=await(t={page:I.value,pageSize:T.value,...N.value},e({url:"/sysOperationRecord/getSysOperationRecordList",method:"get",params:t}));var t;0===a.code&&(U.value=a.data.list,R.value=a.data.total,I.value=a.data.page,T.value=a.data.pageSize)};P();const W=a([]),X=e=>{W.value=e},Y=async()=>{c.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const a=[];W.value&&W.value.forEach((e=>{a.push(e.ID)}));var t;0===(await(t={ids:a},e({url:"/sysOperationRecord/deleteSysOperationRecordByIds",method:"delete",data:t}))).code&&(m({type:"success",message:"删除成功"}),U.value.length===a.length&&I.value>1&&I.value--,P())}))},Z=async a=>{c.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{var t;0===(await(t={ID:a.ID},e({url:"/sysOperationRecord/deleteSysOperationRecord",method:"delete",data:t}))).code&&(m({type:"success",message:"删除成功"}),1===U.value.length&&I.value>1&&I.value--,P())}))},$=e=>{try{return JSON.parse(e)}catch(a){return e}};return(e,a)=>{const c=B,m=y,z=v,P=D,F=C,H=j,K=t("warning"),M=f,Q=E,ee=g,ae=A;return l(),o("div",null,[s("div",b,[r(P,{inline:!0,model:N.value},{default:i((()=>[r(m,{label:"请求方法"},{default:i((()=>[r(c,{modelValue:N.value.method,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value.method=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),r(m,{label:"请求路径"},{default:i((()=>[r(c,{modelValue:N.value.path,"onUpdate:modelValue":a[1]||(a[1]=e=>N.value.path=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),r(m,{label:"结果状态码"},{default:i((()=>[r(c,{modelValue:N.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>N.value.status=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),r(m,null,{default:i((()=>[r(z,{type:"primary",icon:"search",onClick:q},{default:i((()=>[n("查询")])),_:1}),r(z,{icon:"refresh",onClick:J},{default:i((()=>[n("重置")])),_:1})])),_:1})])),_:1},8,["model"])]),s("div",w,[s("div",_,[r(z,{icon:"delete",disabled:!W.value.length,onClick:Y},{default:i((()=>[n("删除")])),_:1},8,["disabled"])]),r(ee,{ref:"multipleTable",data:U.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID",onSelectionChange:X},{default:i((()=>[r(F,{align:"left",type:"selection",width:"55"}),r(F,{align:"left",label:"操作人",width:"140"},{default:i((e=>[s("div",null,p(e.row.user.userName)+"("+p(e.row.user.nickName)+")",1)])),_:1}),r(F,{align:"left",label:"日期",width:"180"},{default:i((e=>[n(p(u(h)(e.row.CreatedAt)),1)])),_:1}),r(F,{align:"left",label:"状态码",prop:"status",width:"120"},{default:i((e=>[s("div",null,[r(H,{type:"success"},{default:i((()=>[n(p(e.row.status),1)])),_:2},1024)])])),_:1}),r(F,{align:"left",label:"请求IP",prop:"ip",width:"120"}),r(F,{align:"left",label:"请求方法",prop:"method",width:"120"}),r(F,{align:"left",label:"请求路径",prop:"path",width:"240"}),r(F,{align:"left",label:"请求",prop:"path",width:"80"},{default:i((e=>[s("div",null,[e.row.body?(l(),d(Q,{key:0,placement:"left-start"},{reference:i((()=>[r(M,{style:{cursor:"pointer"}},{default:i((()=>[r(K)])),_:1})])),default:i((()=>[s("div",x,[s("pre",null,p($(e.row.body)),1)])])),_:2},1024)):(l(),o("span",k,"无"))])])),_:1}),r(F,{align:"left",label:"响应",prop:"path",width:"80"},{default:i((e=>[s("div",null,[e.row.resp?(l(),d(Q,{key:0,placement:"left-start"},{reference:i((()=>[r(M,{style:{cursor:"pointer"}},{default:i((()=>[r(K)])),_:1})])),default:i((()=>[s("div",O,[s("pre",null,p($(e.row.resp)),1)])])),_:2},1024)):(l(),o("span",S,"无"))])])),_:1}),r(F,{align:"left",label:"操作"},{default:i((e=>[r(z,{icon:"delete",type:"primary",link:"",onClick:a=>Z(e.row)},{default:i((()=>[n("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),s("div",V,[r(ae,{"current-page":I.value,"page-size":T.value,"page-sizes":[10,30,50,100],total:R.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:L,onSizeChange:G},null,8,["current-page","page-size","total"])])])])}}});export{z as default};
